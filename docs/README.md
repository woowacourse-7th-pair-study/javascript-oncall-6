# 기능 구현 목록

## 입출력 요구 사항

### 입력

- [x] 월(`숫자`)과 시작 요일(`일, 월, 화, 수, 목, 금, 토`) 정보를 입력받는다.(`비상 근무를 배정할 월과 시작 요일을 입력하세요> `)
  - 연도는 고려하지 않음. 2월은 28일까지만 있다고 가정.
  - [x] 올바르지 않은 입력에 대해 `[ERROR]` 로 시작하는 에러 메시지 출력 후 다시 입력 받기
  ```
  비상 근무를 배정할 월과 시작 요일을 입력하세요>
  [ERROR] 유효하지 않은 입력 값입니다. 다시 입력해 주세요.
  비상 근무를 배정할 월과 시작 요일을 입력하세요>
  ```
  - [x] 공백을 입력한 경우
  - [x] 입력값이 쉼표(,)로 나뉘어지지 않는 경우
  - [x] `월`이 숫자가 아닌 경우
  - [x] `월`이 1월 ~ 12월이 아닌 경우
  - [x] `요일`이 `일, 월, 화, 수, 목, 금, 토` 중 하나가 아닌 경우
- [x] 평일 비상 근무 순서 입력 (`평일 비상 근무 순번대로 사원 닉네임을 입력하세요> `)
- [x] 휴일(토요일, 일요일, 법정 공휴일) 비상 근무 순서 입력 (`휴일 비상 근무 순번대로 사원 닉네임을 입력하세요> `)
  - 올바르지 않은 입력에 대해 `[ERROR]` 로 시작하는 에러 메시지 출력 후 다시 입력 받기
  ```
  비상 근무를 배정할 월과 시작 요일을 입력하세요> 1,금
  평일 비상 근무 순번대로 사원 닉네임을 입력하세요> 준팍,도밥,고니,수아,루루,글로
  휴일 비상 근무 순번대로 사원 닉네임을 입력하세요> 수아,수아,글로,고니,도밥,준팍
  [ERROR] 유효하지 않은 입력 값입니다. 다시 입력해 주세요.
  평일 비상 근무 순번대로 사원 닉네임을 입력하세요>
  ```
  - [x] 평일 또는 휴일 비상 근무 순번에 한 비상 근무자가 2회 이상 입력 된 경우 (중복되는 이름이 있는 경우)
  - [x] 비상 근무자의 닉네임이 최대 5자를 초과하는 경우
  - [x] 비상 근무자의 수가 최소 5명 ~ 최대 35명의 범위를 지키지 않는 경우
  - [ ] 평일 또는 휴일 비상 근무 순번에 비상 근무자가 전부 입력되지 않은 경우

### 출력

- [ ] 평일이면서 법정공휴일의 경우 요일 뒤에 `(휴일)` 표기를 해야 함
- [ ] 비상 근무표 출력 완료 후 프로그램 종료
  ```
  5월 1일 월 준팍
  5월 2일 화 도밥
  5월 3일 수 고니
  5월 4일 목 수아
  5월 5일 금(휴일) 루루
  5월 6일 토 수아
  5월 7일 일 글로
  5월 8일 월 루루
  5월 9일 화 글로
  5월 10일 수 솔로스타
  5월 11일 목 우코
  5월 12일 금 슬링키
  5월 13일 토 솔로스타
  5월 14일 일 우코
  5월 15일 월 참새
  5월 16일 화 도리
  5월 17일 수 준팍
  5월 18일 목 도밥
  5월 19일 금 고니
  5월 20일 토 슬링키
  5월 21일 일 참새
  5월 22일 월 수아
  5월 23일 화 루루
  5월 24일 수 글로
  5월 25일 목 솔로스타
  5월 26일 금 우코
  5월 27일 토 도리
  5월 28일 일 준팍
  5월 29일 월 슬링키
  5월 30일 화 참새
  5월 31일 수 도리
  ```

## 비상 근무일 배정 규칙 / 방법

- 법정 공휴일
  ```
  1월 1일: 신정
  3월 1일: 삼일절
  5월 5일: 어린이날
  6월 6일: 현충일
  8월 15일: 광복절
  10월 3일: 개천절
  10월 9일 한글날
  12월 25일: 성탄절
  ```
- [ ] 순번에 따라 비상 근무일 배정
  - 평일과 휴일의 비상 근무 순번을 다르게 운영
  - 평일 순번과 휴일 순번은 다를 수 있음
- [ ] 비상 근무자는 평일 순번, 휴일 순번에 각각 1회 편성되어야 함
  - 2회 이상씩 편성될 수 없음
- 비상 근무자는 어떤 경우에도 연속 2일은 근무할 수 없음
  - [ ] 순번상 특정 근무자가 연속 2일 근무하게 되는 상황에는, 다음 근무자와 순서를 바꿔 편성
  - 예시1 : 수아가 평일인 목요일에 비상 근무를 서고, 다음 날인 금요일이 휴일이면서 순번상 또다시 수아가 근무해야 할 경우, 다음 휴일 근무자와 순서를 바꿔서 근무한다.
    ```
    평일 순번: 준팍,도밥,고니,수아,루루,글로,솔로스타,우코,슬링키,참새,도리
    휴일 순번: 수아,루루,글로,솔로스타,우코,슬링키,참새,도리,준팍,도밥,고니
    근무 예시: 준팍(월요일),도밥(화요일),고니(수요일),수아(목요일),루루(금요일/휴일),수아(토요일/휴일),...
    ```
  - 예시2 : 만약에 법정공휴일인 수요일에 수아가 비상 근무를 서고 다음 날 평일 순번이 수아인 경우에는, 다음 평일 근무자와 순서를 바꿔서 근무한다.
    ```
    평일 순번: 준팍,도밥,수아,루루,글로,솔로스타,우코,슬링키,참새,도리,고니
    휴일 순번: 수아,루루,글로,솔로스타,우코,슬링키,참새,도리,준팍,도밥,고니
    근무 예시: 준팍(월요일),도밥(화요일),수아(수요일/휴일),루루(목요일),수아(금요일),루루(토요일/휴일),글로(일요일/휴일),...
    ```
  - 비상 근무자 배정 시 다음 근무자와 순서를 바꿔야 하는 경우에는, 앞의 날짜부터 순서를 변경해야 한다. (이게 무슨 말이지?)

## 프로그래밍 요구 사항

- package.json 변경 불가
- [JavaScript 코드 컨벤션](https://github.com/woowacourse/woowacourse-docs/tree/main/styleguide/javascript)을 지키면서 프로그래밍 한다
- `ApplicationTest의` 모든 테스트가 성공해야 함
- 파일, 패키지 이름 수정 및 이동 불가
- indent 3을 넘지 않도록
- Jest를 이용하여 기능 목록이 정상 동작하는지 확인
- 함수가 15라인을 넘지 않도록
- `else` 지양
- 도메인 로직에 단위 테스트를 구현
  - 핵심 로직 수현하는 코드와 UI 담당하는 로직 구분
- 잘못된 입력값에 대해 throw 문으로 예외 발생 => `[ERROR]`로 시작하는 에러 메시지 출력 => 해당 부분부터 입력 다시 받기
- `MissionUtils` 사용

# 구현 계획

### WorkMonth

- `days`라는 프라이빗 필드에 비상 근무를 배정할 월에 대한 정보를 배열 형태로 담는다.
- 예시 : `[{month: 5, day: 1, dayOfWeek: "월", isDayOff: false}]`

### Workers

- `names` : 비상 근무자의 이름들을 `Set`으로 담음 (중복 무시하기 위함)
- `normalDayShift` : 평일의 비상 근무 순번을 배열로 담음
- `dayOffShift` : 휴일의 비상 근무 순번을 배열로 담음
- `onCallNormalDay()` : 평일의 비상 근무자를 반환하고, 방금 꺼낸 `normalDayShift[0]`을 해당 배열의 제일 뒤로 옮김 (queue)
- `onCallDayOff()` : 휴일의 비상 근무자를 반환하고, 방금 꺼낸 `dayOffShift[0]`을 해당 배열의 제일 뒤로 옮김 (queue)
